---
title: "Accessing Data"
author: "Aravind Menon"
date: "11/12/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r, echo=FALSE}
#uploading libraries
library(dplyr)
library(tidyverse)
library(pdftools)
library(stringr)
library(lubridate)
library(readr)
library(ggplot2)
library(gridExtra)
#Reading in data from Boston.gov website on property financial assessment for years 2017 to 2021

eval2017<-read_csv("https://data.boston.gov/dataset/e02c44d2-3c64-459c-8fe2-e1ce5f38a035/resource/062fc6fa-b5ff-4270-86cf-202225e40858/download/property-assessment-fy2017.csv")

eval2018<-read_csv("https://data.boston.gov/dataset/e02c44d2-3c64-459c-8fe2-e1ce5f38a035/resource/fd351943-c2c6-4630-992d-3f895360febd/download/ast2018full.csv")

eval2019<-read_csv("https://data.boston.gov/dataset/e02c44d2-3c64-459c-8fe2-e1ce5f38a035/resource/695a8596-5458-442b-a017-7cd72471aade/download/fy19fullpropassess.csv")

eval2020<-read_csv("https://data.boston.gov/dataset/e02c44d2-3c64-459c-8fe2-e1ce5f38a035/resource/8de4e3a0-c1d2-47cb-8202-98b9cbe3bd04/download/data2020-full.csv")

eval2021<-read_csv("https://data.boston.gov/dataset/e02c44d2-3c64-459c-8fe2-e1ce5f38a035/resource/c4b7331e-e213-45a5-adda-052e4dd31d41/download/data2021-full.csv")


```


```{r , echo=FALSE}
#Removing non residential property based on property codes
# Residential Properties are coded with Ptype codes ranging from 010 to 211

eval2017res<-eval2017%>%filter(eval2017$PTYPE<=212)

eval2018res<-eval2018%>%filter(eval2018$PTYPE<=212)

eval2019res<-eval2019%>%filter(eval2019$PTYPE<=212)

eval2020res<-eval2020%>%filter(eval2020$PTYPE<=212)

#For 2021 Ptype not specified. For 2020 all Ptypes were residential N=175052
eval2021res<-eval2021
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

```{r}
# Adding data and Curating data based ZipCode

#Installing AQI data by monitors foR 2021
library(readr)
AQI2021<-read_csv("annual_conc_by_monitor_2021.csv")
AQI2021<- AQI2021%>%filter(AQI2021$`City Name`=='Boston')

# Within boston there are only three data points available. We can use that for longitudingal change. Not sure if we can use this for comparing neighbourhood. We will have to reverse geocode the point to zipcode. The three points are in Kenmore, Harrison Ave and Dorchester(near andrew square) 


```


```{r}

#Reading ADI data
#Available in 2015 and 2019 and downladed for MA. Need to filter based on the Zipcodes that we are looking at. 


ADI2019<- read.delim('MA_2019_ADI_9 Digit Zip Code_v3.1.txt')

ADI2015<- read.delim('MA_2015_ADI_9 Digit Zip Code_v3.1.txt')

```

```{r}
# School data
# have requested data from Great schools website.If they dont give it to us, then whe will have to web scrape using this web address https://www.greatschools.org/search/search.page?page=4&q=boston&sort=rating&tableView=Academic&view=table


```

